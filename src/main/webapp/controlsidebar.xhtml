<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:cc="http://java.sun.com/jsf/composite">


    <ui:fragment rendered="#{adminConfig.renderControlSidebar or (not empty renderControlSidebar and renderControlSidebar eq 'true')}" >
        <!-- controlsidebar component. Could not create a composite component because it can only have one insert region: https://stackoverflow.com/questions/7654122/multiple-ccinsertchildren-in-the-same-composite-component -->
        <h:panelGroup id="controlsidebarPanel" layout="block" styleClass="hidden-sm hidden-xs">
            <style type="text/css">

                aside.control-sidebar {
                    right:0;
                }
                .control-sidebar-dark b.sidebar-bold  {
                    color: #fff;
                }

                .control-sidebar-light b.sidebar-bold {
                    color: #111;
                }

                .control-sidebar-dark a.skin-link:not(.full-opacity-hover) {
                    -moz-box-shadow: 0 0 10px #1f89ce!important;
                    -webkit-box-shadow: 0 0 10px #1f89ce!important;
                    box-shadow: 0 0 10px #1f89ce!important;
                    border-color: #97ccef!important;
                }

                .control-sidebar-light a.skin-link:not(.full-opacity-hover) {
                    -moz-box-shadow: 0 0 10px #222!important;
                    -webkit-box-shadow: 0 0 10px #222!important;
                    box-shadow: 0 0 10px #222!important;
                }

            </style>

            <p:commandLink  id="link-toggle-layout" action="#{layoutMB.toggleTemplate}" ajax="false" style="visibility: hidden"/>
            <ui:insert name="before-controlsidebar-content"/>
            <aside class="control-sidebar control-sidebar-dark">
                <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
                    <li class="active"><a href="#control-sidebar-theme-demo-options-tab" data-toggle="tab">
                            <i class="fa fa-wrench"></i></a></li>
                    <ui:insert name="controlsidebar-tabs"/>
                </ul>
                <div class="tab-content">
                    <div id="control-sidebar-theme-demo-options-tab" class="tab-pane active">
                        <ui:insert name="before-controlsidebar"/>
                        <div>
                            <h4 class="control-sidebar-heading">Layout Options</h4>
                            <div class="form-group">
                                <span class="control-sidebar-subheading">
                                    <p:outputLabel id="toggle-menu-layout-label" value="Menu orientation" for="toggle-menu-layout"/>
                                    <p:selectBooleanCheckbox value="#{layoutMB.defaultTemplateSelected}" id="toggle-menu-layout" styleClass="pull-right black" >
                                        <p:ajax process="@none" update="@none" global="false" oncomplete="$('a[id$=link-toggle-layout]').click()" />
                                    </p:selectBooleanCheckbox>    
                                </span>
                                <p>Toggle menu orientation between <b class="sidebar-bold">left</b> and <b class="sidebar-bold">top</b> menu. By default left menu is activated.</p>
                            </div>

                            <div class="form-group">
                                <span class="control-sidebar-subheading">
                                    <p:outputLabel id="fixed-layout-label" value="Fixed  Layout" for="fixed-layout"/>
                                    <p:selectBooleanCheckbox id="fixed-layout" styleClass="pull-right black" />
                                </span>
                                <p>Activate the fixed layout, if checked the top bar will be fixed on the page. You can't use fixed and boxed layouts together.</p>
                            </div>

                            <div class="form-group">
                                <span class="control-sidebar-subheading">
                                    <p:outputLabel id="boxed-layout-label" value="Boxed Layout" for="boxed-layout"/>
                                    <p:selectBooleanCheckbox id="boxed-layout" styleClass="pull-right black" />
                                </span>
                                <p>Activate the boxed layout.</p>
                            </div>

                            <div class="form-group">
                                <span class="control-sidebar-subheading">
                                    <p:outputLabel id="sidebar-toggle-label" value="Toggle Sidebar" for="sidebar-toggle"/>
                                    <p:selectBooleanCheckbox disabled="#{not layoutMB.defaultTemplate}" id="sidebar-toggle" styleClass="pull-right black" />
                                </span>
                                <p>Toggle the left sidebar's state (open or collapse).</p>
                            </div>
                            <div class="form-group">
                                <span class="control-sidebar-subheading">
                                    <p:outputLabel id="sidebar-expand-hover-label" value=" Sidebar Expand on Hover" for="sidebar-expand-hover"/>
                                    <p:selectBooleanCheckbox disabled="#{not layoutMB.defaultTemplate}" id="sidebar-expand-hover" widgetVar="sidebarExpand" styleClass="pull-right black" />
                                </span>
                                <p>If checked the left sidebar will expand on hover.</p>
                            </div>
                            <div class="form-group">
                                <span class="control-sidebar-subheading">
                                    <p:outputLabel id="control-sidebar-toggle-label" value="Control Sidebar Slide" for="control-sidebar-toggle"/>
                                    <p:selectBooleanCheckbox disabled="#{not layoutMB.defaultTemplate}" id="control-sidebar-toggle" styleClass="pull-right black" />
                                </span>
                                <p>If checked the right sidebar will be fixed on the page.</p>
                            </div>
                            <div class="form-group">
                                <span class="control-sidebar-subheading">
                                    <p:outputLabel value="Toggle Right Sidebar Skin" for="sidebar-skin"/>
                                    <p:selectBooleanCheckbox id="sidebar-skin" styleClass="pull-right black"/>
                                </span>
                                <p>Toggle between dark and light skins for the right sidebar</p>
                            </div>

                            <h4 class="control-sidebar-heading">Skins</h4>
                            <ul class="list-unstyled clearfix">
                                <li style="float:left; width: 33.33333%; padding: 5px;">

                                    <p:commandLink id="btn-skin-blue" styleClass="skin-link clearfix #{skinMB.skin eq 'skin-blue' ? '':'full-opacity-hover'}" 
                                                   style="display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)"
                                                   action="#{skinMB.changeSkin('skin-blue')}"
                                                   oncomplete="replaceSkinWith('skin-blue')"
                                                   process="@this" update="controlsidebarPanel" partialSubmit="true">
                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 7px; background: #367fa9">

                                            </span>
                                            <span class="bg-light-blue" style="display:block; width: 80%; float: left; height: 7px;">

                                            </span>
                                        </div>
                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 20px; background: #222d32"></span>
                                            <span style="display:block; width: 80%; float: left; height: 20px; background: #f4f5f7"></span>
                                        </div>
                                    </p:commandLink>
                                    <p class="text-center no-margin">Blue</p>
                                </li>
                                <li style="float:left; width: 33.33333%; padding: 5px;">
                                    <p:commandLink id="btn-skin-black" styleClass="skin-link clearfix #{skinMB.skin eq 'skin-black' ? '':'full-opacity-hover'}" 
                                                   style="display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)"
                                                   action="#{skinMB.changeSkin('skin-black')}"
                                                   oncomplete="replaceSkinWith('skin-black')"
                                                   process="@this" update="controlsidebarPanel" partialSubmit="true">
                                        <div style="box-shadow: 0 0 2px rgba(0,0,0,0.1)" class="clearfix">
                                            <span style="display:block; width: 20%; float: left; height: 7px; background: #fefefe"></span>
                                            <span style="display:block; width: 80%; float: left; height: 7px; background: #fefefe"></span>
                                        </div>
                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 20px; background: #222"></span>
                                            <span style="display:block; width: 80%; float: left; height: 20px; background: #f4f5f7"></span>
                                        </div>
                                    </p:commandLink>
                                    <p class="text-center no-margin">Black</p>
                                </li>
                                <li style="float:left; width: 33.33333%; padding: 5px;">
                                    <p:commandLink id="btn-skin-purple" styleClass="skin-link clearfix #{skinMB.skin eq 'skin-purple' ? '':'full-opacity-hover'}" 
                                                   style="display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)"
                                                   action="#{skinMB.changeSkin('skin-purple')}"
                                                   oncomplete="replaceSkinWith('skin-purple')"
                                                   process="@this" update="controlsidebarPanel" partialSubmit="true">
                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 7px;" class="bg-purple-active"></span>
                                            <span class="bg-purple" style="display:block; width: 80%; float: left; height: 7px;"></span>
                                        </div>
                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 20px; background: #222d32"></span>
                                            <span style="display:block; width: 80%; float: left; height: 20px; background: #f4f5f7"></span>
                                        </div>
                                    </p:commandLink>
                                    <p class="text-center no-margin">Purple</p>

                                </li>

                                <li style="float:left; width: 33.33333%; padding: 5px;">
                                    <p:commandLink id="btn-skin-green" styleClass="skin-link clearfix #{skinMB.skin eq 'skin-green' ? '':'full-opacity-hover'}" 
                                                   style="display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)"
                                                   action="#{skinMB.changeSkin('skin-green')}"
                                                   oncomplete="replaceSkinWith('skin-green')"
                                                   process="@this" update="controlsidebarPanel" partialSubmit="true">

                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 7px;" class="bg-green-active"></span>
                                            <span class="bg-green" style="display:block; width: 80%; float: left; height: 7px;"></span>
                                        </div>

                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 20px; background: #222d32"></span>
                                            <span style="display:block; width: 80%; float: left; height: 20px; background: #f4f5f7"></span>
                                        </div>
                                    </p:commandLink>
                                    <p class="text-center no-margin">Green</p>
                                </li>

                                <li style="float:left; width: 33.33333%; padding: 5px;">
                                    <p:commandLink id="btn-skin-red" styleClass="skin-link clearfix #{skinMB.skin eq 'skin-red' ? '':'full-opacity-hover'}" 
                                                   style="display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)"
                                                   action="#{skinMB.changeSkin('skin-red')}"
                                                   oncomplete="replaceSkinWith('skin-red')"
                                                   process="@this" update="controlsidebarPanel" partialSubmit="true">

                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 7px;" class="bg-red-active"></span>
                                            <span class="bg-red" style="display:block; width: 80%; float: left; height: 7px;"></span>
                                        </div>

                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 20px; background: #222d32"></span>
                                            <span style="display:block; width: 80%; float: left; height: 20px; background: #f4f5f7"></span>
                                        </div>
                                    </p:commandLink>
                                    <p class="text-center no-margin">Red</p>
                                </li>

                                <li style="float:left; width: 33.33333%; padding: 5px;">
                                    <p:commandLink id="btn-skin-yellow" styleClass="skin-link clearfix #{skinMB.skin eq 'skin-yellow' ? '':'full-opacity-hover'}" 
                                                   style="display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)"
                                                   action="#{skinMB.changeSkin('skin-yellow')}"
                                                   oncomplete="replaceSkinWith('skin-yellow')"
                                                   process="@this" update="controlsidebarPanel" partialSubmit="true">

                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 7px;" class="bg-yellow-active"></span>
                                            <span class="bg-yellow" style="display:block; width: 80%; float: left; height: 7px;"></span>
                                        </div>

                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 20px; background: #222d32"></span>
                                            <span style="display:block; width: 80%; float: left; height: 20px; background: #f4f5f7"></span>
                                        </div>
                                    </p:commandLink>
                                    <p class="text-center no-margin">Yellow</p>
                                </li>

                                <li style="float:left; width: 33.33333%; padding: 5px;">
                                    <p:commandLink id="btn-skin-teal" styleClass="skin-link clearfix #{skinMB.skin eq 'skin-teal' ? '':'full-opacity-hover'}" 
                                                   style="display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)"
                                                   action="#{skinMB.changeSkin('skin-teal')}" 
                                                   oncomplete="replaceSkinWith('skin-teal')"
                                                   process="@this" update="controlsidebarPanel" partialSubmit="true">

                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 7px;" class="bg-teal-active"></span>
                                            <span class="bg-teal" style="display:block; width: 80%; float: left; height: 7px;"></span>
                                        </div>

                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 20px; background: #222d32"></span>
                                            <span style="display:block; width: 80%; float: left; height: 20px; background: #f4f5f7"></span>
                                        </div>
                                    </p:commandLink>
                                    <p class="text-center no-margin">Teal</p>
                                </li>
                                <li style="float:left; width: 33.33333%; padding: 5px;">
                                    <p:commandLink id="btn-skin-blue-light" styleClass="skin-link clearfix #{skinMB.skin eq 'skin-blue-light' ? '':'full-opacity-hover'}" 
                                                   style="display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)"
                                                   action="#{skinMB.changeSkin('skin-blue-light')}"
                                                   oncomplete="replaceSkinWith('skin-blue-light')"
                                                   process="@this" update="controlsidebarPanel" partialSubmit="true">

                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 7px; background: #367fa9"></span>
                                            <span class="bg-light-blue" style="display:block; width: 80%; float: left; height: 7px;"></span>
                                        </div>

                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 20px; background: #f9fafc"></span>
                                            <span style="display:block; width: 80%; float: left; height: 20px; background: #f4f5f7"></span>
                                        </div>
                                    </p:commandLink>
                                    <p class="text-center no-margin">Blue Light</p>
                                </li>

                                <li style="float:left; width: 33.33333%; padding: 5px;">
                                    <p:commandLink id="btn-skin-black-light" styleClass="skin-link clearfix #{skinMB.skin eq 'skin-black-light' ? '':'full-opacity-hover'}" 
                                                   style="display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)"
                                                   action="#{skinMB.changeSkin('skin-black-light')}"
                                                   oncomplete="replaceSkinWith('skin-black-light')"
                                                   process="@this" update="controlsidebarPanel" partialSubmit="true">

                                        <div style="box-shadow: 0 0 2px rgba(0,0,0,0.1)" class="clearfix">
                                            <span style="display:block; width: 20%; float: left; height: 7px; background: #fefefe"></span>
                                            <span style="display:block; width: 80%; float: left; height: 7px; background: #fefefe"></span>
                                        </div>

                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 20px; background: #f9fafc"></span>
                                            <span style="display:block; width: 80%; float: left; height: 20px; background: #f4f5f7"></span>
                                        </div>
                                    </p:commandLink>
                                    <p class="text-center no-margin">Black Light</p>
                                </li>


                                <li style="float:left; width: 33.33333%; padding: 5px;">
                                    <p:commandLink id="btn-skin-purple-light" styleClass="skin-link clearfix #{skinMB.skin eq 'skin-purple-light' ? '':'full-opacity-hover'}" 
                                                   style="display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)"
                                                   action="#{skinMB.changeSkin('skin-purple-light')}"
                                                   oncomplete="replaceSkinWith('skin-purple-light')"
                                                   process="@this" update="controlsidebarPanel" partialSubmit="true">

                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 7px;" class="bg-purple-active"></span>
                                            <span class="bg-purple" style="display:block; width: 80%; float: left; height: 7px;"></span>
                                        </div>
                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 20px; background: #f9fafc"></span>
                                            <span style="display:block; width: 80%; float: left; height: 20px; background: #f4f5f7"></span>
                                        </div>
                                    </p:commandLink>
                                    <p class="text-center no-margin">Purple Light</p>
                                </li>

                                <li style="float:left; width: 33.33333%; padding: 5px;">
                                    <p:commandLink id="btn-skin-red-light" styleClass="skin-link clearfix #{skinMB.skin eq 'skin-red-light' ? '':'full-opacity-hover'}" 
                                                   style="display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)"
                                                   action="#{skinMB.changeSkin('skin-red-light')}" 
                                                   oncomplete="replaceSkinWith('skin-red-light')"
                                                   process="@this" update="controlsidebarPanel" partialSubmit="true">

                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 7px;" class="bg-red-active"></span>
                                            <span class="bg-red" style="display:block; width: 80%; float: left; height: 7px;"></span>
                                        </div>
                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 20px; background: #f9fafc"></span>
                                            <span style="display:block; width: 80%; float: left; height: 20px; background: #f4f5f7"></span>
                                        </div>
                                    </p:commandLink>
                                    <p class="text-center no-margin">Red Light</p>
                                </li>

                                <li style="float:left; width: 33.33333%; padding: 5px;">
                                    <p:commandLink id="btn-skin-green-light" styleClass="skin-link clearfix #{skinMB.skin eq 'skin-green-light' ? '':'full-opacity-hover'}" 
                                                   style="display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)"
                                                   action="#{skinMB.changeSkin('skin-green-light')}"
                                                   oncomplete="replaceSkinWith('skin-green-light')"
                                                   process="@this" update="controlsidebarPanel" partialSubmit="true">

                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 7px;" class="bg-green-active"></span>
                                            <span class="bg-green" style="display:block; width: 80%; float: left; height: 7px;"></span>
                                        </div>
                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 20px; background: #f9fafc"></span>
                                            <span style="display:block; width: 80%; float: left; height: 20px; background: #f4f5f7"></span>
                                        </div>
                                    </p:commandLink>
                                    <p class="text-center no-margin">Green Light</p>
                                </li>

                                <li style="float:left; width: 33.33333%; padding: 5px;">
                                    <p:commandLink id="btn-skin-yellow-light" styleClass="skin-link clearfix #{skinMB.skin eq 'skin-yellow-light' ? '':'full-opacity-hover'}" 
                                                   style="display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)"
                                                   action="#{skinMB.changeSkin('skin-yellow-light')}"
                                                   oncomplete="replaceSkinWith('skin-yellow-light')"
                                                   process="@this" update="controlsidebarPanel" partialSubmit="true">

                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 7px;" class="bg-yellow-active"></span>
                                            <span class="bg-yellow" style="display:block; width: 80%; float: left; height: 7px;"></span>
                                        </div>
                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 20px; background: #f9fafc"></span>
                                            <span style="display:block; width: 80%; float: left; height: 20px; background: #f4f5f7"></span>
                                        </div>
                                    </p:commandLink>
                                    <p class="text-center no-margin">Yellow Light</p>
                                </li>
                                <li style="float:left; width: 33.33333%; padding: 5px;">
                                    <p:commandLink id="btn-skin-teal-light" styleClass="skin-link clearfix #{skinMB.skin eq 'skin-teal-light' ? '':'full-opacity-hover'}" 
                                                   style="display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)"
                                                   action="#{skinMB.changeSkin('skin-teal-light')}"
                                                   oncomplete="replaceSkinWith('skin-teal-light')"
                                                   process="@this" update="controlsidebarPanel" partialSubmit="true">

                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 7px;" class="bg-teal-active"></span>
                                            <span class="bg-teal" style="display:block; width: 80%; float: left; height: 7px;"></span>
                                        </div>
                                        <div>
                                            <span style="display:block; width: 20%; float: left; height: 20px; background: #f9fafc"></span>
                                            <span style="display:block; width: 80%; float: left; height: 20px; background: #f4f5f7"></span>
                                        </div>
                                    </p:commandLink>
                                    <p class="text-center no-margin">Teal Light</p>
                                </li>
                                <ui:insert name="after-controlsidebar-skin"/>
                            </ul>

                            <ui:insert name="after-controlsidebar-tabs"/>
                        </div>
                    </div>

                    <ui:insert name="controlsidebar-content"/>

                </div>
            </aside>
            <ui:insert name="after-controlsidebar-content"/>
            <div class="control-sidebar-bg"></div>

            <script type="text/javascript">
                /*<![CDATA[*/
                function replaceSkinWith(newSkin) {
                    $('.skin-link').each(function () {
                        $(this).addClass('full-opacity-hover');
                    });
                    $('#btn-' + newSkin).removeClass('full-opacity-hover');
                    var cl = $('body').attr("class").split(" ");
                    for (var i = 0; i < cl.length; i++) {
                        if (cl[i].startsWith('skin-')) {
                            $('body').removeClass(cl[i])
                        }
                    }
                    $('body').addClass(newSkin);
                    if (typeof (Storage) !== 'undefined') {
                        localStorage.setItem('layout.skin', newSkin)
                    }
                }

                /* ]]>*/
            </script>    
        </h:panelGroup>
    </ui:fragment>

</ui:composition>